From 5c9e1cb23e86db314c3b49a73405458f7a2d2e45 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Chang=2EJamesWC=20=E5=BC=B5=E6=96=87=E9=87=91=20TAO?=
 <chang.jameswc@inventec.com>
Date: Thu, 11 Mar 2021 14:36:39 +0800
Subject: [PATCH] Add interface for AC restore always-on policy

---
 .../Power/RestorePolicy.interface.yaml        | 24 +++++++++++++++++++
 1 file changed, 24 insertions(+)

diff --git a/xyz/openbmc_project/Control/Power/RestorePolicy.interface.yaml b/xyz/openbmc_project/Control/Power/RestorePolicy.interface.yaml
index 1f90937..a2e79ac 100644
--- a/xyz/openbmc_project/Control/Power/RestorePolicy.interface.yaml
+++ b/xyz/openbmc_project/Control/Power/RestorePolicy.interface.yaml
@@ -9,6 +9,16 @@ properties:
       description: >
           The policy to adopt after the BMC reset.
 
+    - name: PowerRestoreDelay
+      type: uint32
+      description: >
+          The delay for setting always-on.
+
+    - name: PowerRestoreAlwaysOnPolicy
+      type: enum[self.AlwaysOnPolicy]
+      description: >
+          The policy to adopt after the BMC reset and using always-on policy.
+
 enumerations:
     - name: Policy
       description: >
@@ -24,3 +34,17 @@ enumerations:
           description: >
             Restore power to last requested state recorded before the BMC was
             reset.
+
+    - name: AlwaysOnPolicy
+      description: >
+        Possible power restoration always-on policies.
+      values:
+        - name: Immediately
+          description: >
+            Without delay time for bmc power on
+        - name: Random
+          description: >
+            Set a random delay time for bmc power on.
+        - name: Fixed
+          description: >
+            Set a fixed delay time for bmc power on.
